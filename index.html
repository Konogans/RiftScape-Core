
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RiftScape Survival</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Libraries -->
    <script src="https://unpkg.com/three@0.147.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.147.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://unpkg.com/three@0.147.0/examples/js/utils/SkeletonUtils.js"></script>
</head>
<body>
    <div id="ui">
        <div id="dialogue-overlay" class="hidden">
            <div id="dialogue-box">
                <div id="npc-name">NPC NAME</div>
                <div id="npc-text">Placeholder dialogue text...</div>
                <div id="dialogue-options"></div>
                <div id="player-essence">◆ 0</div>
            </div>
        </div>
        <!-- Compass UI moved to HUDSystem -->
        <!-- Debug moved to HUDSystem -->
        <!-- Health/Controls/Stats moved to HUDSystem -->
        <div id="game-over"><h1>FALLEN</h1><div class="final-stats"><div class="stat-label">Time Survived</div><span id="final-time">0:00</span><div class="stat-label">Enemies Slain</div><span id="final-kills">0</span></div><div class="essence-earned">+<span id="essence-earned">0</span> Essence</div><button id="outpost-btn">Return to Outpost</button></div>
        <div id="outpost" class="hidden"><h1>THE OUTPOST</h1><div class="subtitle">A refuge between rifts</div><div class="stats-bar"><div class="stat">Runs: <span class="stat-value" id="total-runs">0</span></div><div class="stat">Best Time: <span class="stat-value" id="best-time">0:00</span></div><div class="stat">Best Kills: <span class="stat-value" id="best-kills">0</span></div></div><div class="essence-display">◆ <span id="current-essence">0</span> Essence</div><div class="affinity-display"><div class="affinity-bar magic"><div class="label">Magic Affinity</div><div class="value" id="magic-affinity">0</div></div><div class="affinity-bar tech"><div class="label">Tech Affinity</div><div class="value" id="tech-affinity">0</div></div></div><div class="section-title">Upgrades</div><div class="upgrades-grid" id="upgrades-grid"></div><button class="enter-rift-btn" id="enter-rift-btn">ENTER THE RIFT</button></div>
    </div>

        <!-- Data -->
    <script src="js/data/UpgradeRegistry.js"></script>
    <script src="js/data/PickupRegistry.js"></script>
    <script src="js/data/BiomeRegistry.js"></script>
    <script src="js/data/AbilityRegistry.js"></script>
    <script src="js/data/EntityRegistry.js"></script>
    <script src="js/data/CharacterRegistry.js"></script>
	<script src="js/data/StructureRegistry.js"></script>

    <!-- Systems -->
    <script src="js/systems/BehaviorSystem.js"></script>
    <script src="js/systems/AttackSystem.js"></script>
	<script src="js/systems/RaidManager.js"></script>

    <!-- Core -->
    <script src="js/core/Input.js"></script>
    <script src="js/core/Utils.js"></script>
    <script src="js/core/ModelLoader.js"></script>
    <script src="js/core/WorldState.js"></script>
    <script src="js/core/WorldManager.js"></script>
    <script src="js/core/SoundSystem.js"></script>
    <script src="js/core/HubState.js"></script>
    <script src="js/core/ModManager.js"></script>

    <!-- Entities -->
    <script src="js/entities/Projectile.js"></script>
    <script src="js/entities/Pickup.js"></script>
    <script src="js/entities/Portal.js"></script>
    <script src="js/entities/Enemy.js"></script>
    <script src="js/entities/Player.js"></script>
    <script src="js/entities/NPC.js"></script>
    <script src="js/entities/Cage.js"></script>
    <script src="js/entities/PlayerProjectile.js"></script>
	<script src="js/entities/Structure.js"></script>
	<script src="js/entities/RiftGate.js"></script>
	<script src="js/entities/Boss.js"></script>

    <!-- Effects -->
    <script src="js/effects/FloatingText.js"></script>
    
    <!-- UI -->
    <script src="js/ui/DialogueSystem.js"></script>
    <script src="js/ui/HUDSystem.js"></script>

    <!-- Game (MUST BE LAST) -->
    <script src="js/core/Game.js"></script>
	
	<!-- Mods -->
	<script src="mods/mods_list.js"></script>
	
    <script>
        window.addEventListener('load', () => { window.game = new Game(); });
    </script>
</body>
</html>